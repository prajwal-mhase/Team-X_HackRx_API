# ğŸ“‘ Insurance Claim Analyzer â€“ HackRx 6.0

An AI-powered backend service to **analyze and validate insurance claims** using uploaded policy documents (PDF) and natural language claim descriptions.

Built for **HackRx 6.0** by Bajaj Finserv Health.

---

## ğŸš€ Features

- ğŸ“„ Upload **insurance, legal, or policy documents** (PDF, DOCX, EML)  
- ğŸ¤– Uses **Google Gemini 2.0 Flash** for natural language understanding  
- ğŸ” **Semantic search & clause retrieval** via FAISS embeddings (optional)  
- ğŸ’¬ Ask questions in plain English and get concise, contextual answers  
- âœ… Outputs:  
  - Decision: `approved`, `denied`, `needs_follow_up`, `partial`  
  - Supporting clauses and rationale  
  - Confidence score  
- ğŸ§  Handles scanned PDFs with **OCR** fallback (if `pytesseract` installed)  

---

## ğŸ› ï¸ Tech Stack

- **Backend**: [FastAPI](https://fastapi.tiangolo.com/)  
- **LLM**: Google [Gemini 2.0 Flash](https://ai.google.dev/)  
- **Document Parsing**: PyPDF2 (PDF), python-docx (DOCX), email (EML), pytesseract (OCR)  
- **Embeddings & Vector Search**: [FAISS](https://github.com/facebookresearch/faiss) + [SentenceTransformers](https://www.sbert.net/)  
- **Language**: Python 3.11+  
- **Hosting**: Render, Docker, or any cloud service  

---

## ğŸ“¦ Requirements

Install dependencies via `pip`:

```bash
pip install -r requirements.txt
````

Optional dependencies (for OCR or embeddings):

```bash
pip install pytesseract pdf2image sentence-transformers faiss-cpu
```

---

## â–¶ï¸ Running Locally

1. **Set environment variables**:

```bash
export GEMINI_API_KEY="your_gemini_api_key"
export TEAM_AUTH_TOKEN="your_secret_token"  # optional
```

2. **Start FastAPI with Uvicorn**:

```bash
uvicorn main:app --host 0.0.0.0 --port 8000
```

3. **Open API docs**:

```
http://localhost:8000/docs
```

---

## ğŸ“¥ API Input Format

**Endpoint:** `/hackrx/run`
**Method:** `POST`
**Headers:** `Authorization: Bearer <TEAM_AUTH_TOKEN>`

**Request JSON**:

```json
{
  "documents": "https://example.com/policy.pdf",
  "questions": [
    "Is appendectomy covered under AYUSH hospitals?",
    "What is the coverage limit for inpatient treatment?"
  ]
}
```

* `documents`: URL of the document (PDF, DOCX, or EML)
* `questions`: List of user questions

---

## ğŸ“¤ API Output Format

**Response JSON**:

```json
{
  "answers": [
    "Appendectomy is covered under AYUSH hospitals according to the policy.",
    "The coverage limit for inpatient treatment is 5,00,000 INR."
  ]
}
```

* `answers`: Concise answers generated by Gemini LLM using relevant policy clauses

---

## ğŸ§ª Example Request

```bash
curl -X POST "https://your-service-name.onrender.com/hackrx/run" \
-H "Authorization: Bearer <TEAM_AUTH_TOKEN>" \
-H "Content-Type: application/json" \
-d '{
  "documents": "https://example.com/policy.pdf",
  "questions": ["Is appendectomy covered?"]
}'
```

---

## âš™ï¸ Features Breakdown

1. **Document Parsing**

   * PDF: PyPDF2 (text) + optional OCR
   * DOCX: python-docx
   * EML: email parser

2. **Semantic Search**

   * Optional FAISS embeddings with `all-MiniLM-L6-v2`
   * Keyword and vector similarity scoring

3. **LLM Processing**

   * Parses questions â†’ structured queries (`intent`, `entities`, `subqueries`)
   * Retrieves relevant clauses
   * Generates decision and concise user-friendly answer

---

## ğŸ‘¥ Team

* Prajwal Mhase
* Ram Darekar
* Gauri Lanke
* Payal Lanke

---

## ğŸ¤ Acknowledgments

* HackRx 6.0 â€“ Bajaj Finserv Health
* Google Gemini AI
* FastAPI Community
* Render Hosting Platform

---

## ğŸ“ Notes

* Max file size: **15MB**
* OCR requires `pytesseract` and `pdf2image`
* Embedding-based semantic search is optional but recommended for large documents
  
